naraku2

--------------------------------------------
naraku-utils
--------------------------------------------
naraku2-dataHub
--------------------------------------------
naraku2-transformer

--------------------------------------------
naraku2-declare

languages
sentences
	main
	target
	action
	
entity
	names
	nameAttribute
	values
	valueAttribute


--------------------------------------------
naraku2-codeTemplate

--------------------------------------------
naraku2-viewModel
ViewModel
ViewContext

===================================================

menuConfig
	{
		theme
		icon "iconType:"
		path
		name
		label
		dynamic
		isTemplate
		isDetail
		hidden
		routes[]
	}
	
authority
	[
		'app.path*.page'
	]

MenuModel

	createMenuData(config,  {
		_theme = [],
		_name = [app],
		_dynamic = false,
	});
	
	{
		theme = []
		icon "iconType:"
		path
		name = []
		label
		dynamic = false
		isTemplate
		isDetail
		hidden
		routes[]
	}
	
	!nvl theme 
	
	extend {
		
	}
	
	
		
	
  












@showLoading

@createPage($name/dhCfg)
@createForm($name/dhCfg)

PageViewModel

	themes app -> menu -> page

	view
		addHeaderLeft()
		addHeaderRight()
		addHeaderCenter()
		
		getRouterInfo()
		
		
		setHeader()
		
		getModuleAuthority();
		getAllAuthority();
		getAppAuthority();
		

		getPageParam() =>
			param
			routerParam
			urlParam

FormViewModel

	view
		setFormData()		
		setFieldValue()
		deleteField()
		getFormData()
		
		getErrorMsg();
		getFieldProps(label/field, type=label/field);
		
		formatter() = same;
		
		notifyErrorMsg();
		itemRender();
		
	fieldProps
		field
			field
			value
			none
			inputType
			errorMsg
		init
			isInit
			exceptValue
			disabledValue
		select
			muti
			onFetchSource
			initSourceData
			sourceData
			valueField
			labelField
		input
			placeholder
			className
			style
			value
			onChange
			disabled
		extend


	public
		checkFields({label,field,value}, formData)
		resetFormData()
		getSubmitData()
		setFormValueX(declare, updateInit)
		lockForm()
		unlockForm()
		
	LsForm 
		props
			declare
			itemRender
			formatter

TableViewModel
		view
			declareColumns()
			getColumns()
			
		public
			selectRow
			selectAll
			selectNone
			resetData
			getChangedRow
			
		props
			columnsDeclare
				label: field@width@min@max@sort~asc/desc/number@filter~enum|search => render@attr;
			colWidthByFont
			scrollXByColWidth
			
			menu
			server
			select
			
			asSelect		
			value
			onChange
			
			defaultPageSize
			
			onChangePage
			onChangPageSize
			onChangeFilter
			onChangeMatch
			onChangeSorter
			
			onSelect
			
			onExpendAll
			onExpendColumns
			
			onDetail
			
			subTable
			
			renderMap
			
TabsViewModel
		
		

		props
			switchData
			
SelectViewModel
		modalRender({
			extend,
			muti
			disabledValue
			tempSourceData
			tempValue
			valueField
			labelField
			setUpdate(value, sourceData)
		})
		
		props
			muti
			modal
			onFetchSource
			initSourceData
			sourceData
			valueField
			labelField
			labelFormatter
			extend


LayoutViewModel
	theme
	screen

	
SliderMenuViewModel

	view
	
		getMenuData() =>
			{
				label
				icon
				path
				meta
				childMenus
			}
		
		config
			{
				theme
				icon
				path
				name
				label
				dynamic
				template
				detail
				hidden
				routes[]
			}
-------------------------------------------------------------------			
AppModel
	
	config
		name
		theme
		layout
		404
		401
		500
	

AuthorityModel

	getAuthority
		app.menu.page: module1@c@r@u@d, module2 => area= 1|2|3|4
		
	

-------------------------------------------------------------------

LsPage.createPage();

LsSelect
LsTable
LsTabs

LsForm.createForm();
FormItems


LineAndBar
	title
	
	xUnit
	yUnit
	
	x2Unit
	y2Unit

	xField
	x2Field
	
	draw
		[field: {
			type = line
			x2 = false
			y2 = false
		}]
	
	
Scatter
	title
	
	xField
	yField

	colorField
	shapeField
	
	xUnit
	yUnit
	
VsPie
	props
		[
			{label: value}
			{label: value}
		]
PercentPie
		{
			label
			value
			totalLabel
			totalValue
		}

LegendPie
	props
		[
			{label: value}
			{label: value}
		]
	legendPosition

Tops
	valueField
	labelField
	tooltipFormat
	labelFormat
	minLine
	maxLine
	highLight

Radar

Alarm
	value
	label
	color
	
TagsCould

BMap

	props
		markers
		areas
		
		onClickMarker
		onClickArea
		
	public
		showInfoWindow
		
		
---------------------------------

$$内置事件名称:子名称@name=key



sourceStore 数据名称 Table
switchStore Tabs
sourceData 数据列表

field 字段
declare 定义

valueField 值字段
labelField 标签字段

parentSelect 父选择框

uniName 组件名

value 值 
initValue 初始值
exceptValue 例外值
disabledValue 不可用值
initGroup 初始分组

withStore 相关数据名称 Tabs Form


@getValue
@loading



Input
Password
NumberInput
Textarea
Select
ModalSelect
MonthPicker
DatePicker


@createForm
@renderForm({
	uniName,
	fetcher,
	wiewMode,
	withStore,
	labelWidth,
	fieldWidth,
	requireErrFormatter
	formatSubmit
})

form.checkData.then
form.submit.then //锁死
form.reset
form.clear
form.stop

// 根据key update
<LsForm className style cols gutter labelWidth fieldWidth disabled>
	<Item 
		className style 
		type 
		field label require
		labelWidth fieldWidth  
		initValue exceptValue disabledValue
		disabled onChange
		mergeProps
	/>
<LsForm>


<LsTable 
	menu 
	server 
	
	className
	style
	onExportAll
	onExportVisible
	
	select='single|muti'
	
	onSearch
	onSort
	
	onSelect
	
	onChangePageNumber
	onChangePageSize
	
	onDetail
	
	pageNumber
	initPageSize
	
	renderMap
	
	tableProps
>
	<Col label field render exceptMe sort filter="select|search|all" />
	<Col >
		<Col />
	</Col>
</LsTable>


<LsTabs uniName disabled>
	<TabPane switchStore label key>
</LsTabs>

=====================================

createPage cfg

 new context cfg
 key
 
 
 new ViewModel(view, context, log, log, dev)
 
	
 
 
 public
	createHandle(momentPoint)
	onChange(callback)
	destroyHandler
	imYourFather();

